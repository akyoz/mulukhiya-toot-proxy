# mulukhiya-toot-proxy

Mastodonのトゥートに書かれた内容に対して、トゥート内容の更新等を行うプロキシ。  
通称「モロヘイヤ」。
詳細は[wiki](https://github.com/pooza/mulukhiya-toot-proxy/wiki)にて。

## モロヘイヤに出来ること

トゥート本文に対して、

- 各種短縮URLを戻し、リンク先を明らかにする。
- 日本語を含んだURLを適切にエンコードし、クリックできるようにする。
- 貼られたURLのページにcanonical指定があったら、そのURLに置き換える。
- amazonの商品URLからノイズを除去する。商品画像を添付する。可能ならばアソシエイトタグを加える。
- ハッシュタグ `#nowplaying` を含んでいたら、Spotify/Apple Music再生のリンク、曲情報等を挿入。
- サーバー（インスタンス）と関係あるワードを含んでいたら、ハッシュタグを追加。

また、

- 自分宛の新着トゥートをDiscordに通知。
- トゥートを[GROWI](https://growi.org/)等、各種外部サービスに保存。

## トゥートを改変するということ

トゥートに何かしらの改変をするツールであることには違いない。  
意図に反した改変はしていないつもりだけど、特にamazonのアソシエイトタグが加えられることに
関しては、ひとこと言いたい勢がいるかもしれない。  
この点について、規約等で重々念を押す必要はあるかもしれない。

## これをつくった経緯

プリキュア専用インスタンス「[キュアスタ！](https://precure.ml)」で、ずっと前に
「amazonのURL、もっと短くならない〜？」って言われてたのを思い出して作りました。

「利用の条件」というほど強制力のあるお願いではないけど、プリキュアにもし興味あったら
覗いてください。みんな喜びます。
